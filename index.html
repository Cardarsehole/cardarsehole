<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Presidents and Arsehole Card Game Scorer</title>
  <!-- Google AdSense -->
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8460279361151582"
     crossorigin="anonymous"></script>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 20px;
      background: #f4f4f9;
      color: #333;
    }
    h1 {
      text-align: center;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-bottom: 20px;
    }
    table, th, td {
      border: 1px solid #ccc;
    }
    th, td {
      padding: 10px;
      text-align: center;
    }
    input[type="text"] {
      padding: 5px;
      width: 120px;
    }
    select {
      padding: 5px;
    }
    button {
      margin: 5px;
      padding: 10px 15px;
      border: none;
      border-radius: 5px;
      background-color: #007BFF;
      color: white;
      cursor: pointer;
    }
    button:hover {
      background-color: #0056b3;
    }
    #history {
      margin-top: 20px;
    }
    .ad-container {
      text-align: center;
      margin: 20px 0;
    }
  </style>
</head>
<body>
  <h1>Presidents and Arsehole Card Game Scorer</h1>

  <!-- Reset button -->
  <button onclick="resetScores()">Reset All</button>

  <table id="scoreboard">
    <thead>
      <tr>
        <th>Player</th>
        <th>Score</th>
      </tr>
    </thead>
    <tbody id="scoreBody"></tbody>
  </table>

  <div>
    <label for="roundPlayers">Number of Players:</label>
    <input type="number" id="roundPlayers" value="4" min="4" max="10" onchange="initScores()">
  </div>

  <div id="playerInputs"></div>

  <button onclick="submitRound()">Submit Round</button>

  <!-- Google AdSense Ad (under Submit Round) -->
  <div class="ad-container">
    <ins class="adsbygoogle"
         style="display:block; text-align:center; margin:20px 0;"
         data-ad-client="ca-pub-8460279361151582"
         data-ad-slot="1234567890"
         data-ad-format="auto"
         data-full-width-responsive="true"></ins>
    <script>
         (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
  </div>

  <div id="history">
    <h2>Game History</h2>
    <ul id="gameHistory"></ul>
    <p><strong>Total Games Played:</strong> <span id="totalGames">0</span></p>
  </div>

  <!-- Google AdSense Ad (under Game History) -->
  <div class="ad-container">
    <ins class="adsbygoogle"
         style="display:block; text-align:center; margin:20px 0;"
         data-ad-client="ca-pub-8460279361151582"
         data-ad-slot="1234567891"
         data-ad-format="auto"
         data-full-width-responsive="true"></ins>
    <script>
         (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
  </div>

  <script>
    let players = [];
    let scores = {};
    let totalGames = 0;

    function initScores() {
      const numPlayers = parseInt(document.getElementById("roundPlayers").value);
      players = [];
      scores = {};
      const tbody = document.getElementById("scoreBody");
      tbody.innerHTML = "";

      for (let i = 0; i < numPlayers; i++) {
        let name = "Player " + (i + 1);
        players.push(name);
        scores[name] = 0;

        const row = document.createElement("tr");
        row.innerHTML = `
          <td><input type="text" id="name${i}" value="${name}" onchange="updatePlayerName(${i})"></td>
          <td id="score${i}">0</td>
        `;
        tbody.appendChild(row);
      }
      updatePlayerInputs();
    }

    function updatePlayerName(index) {
      const newName = document.getElementById("name" + index).value || ("Player " + (index + 1));
      const oldName = players[index];

      if (newName !== oldName) {
        scores[newName] = scores[oldName];
        delete scores[oldName];
        players[index] = newName;
        renderScores();
        updatePlayerInputs();
      }
    }

    function renderScores() {
      players.forEach((p, i) => {
        document.getElementById("name" + i).value = p;
        document.getElementById("score" + i).textContent = scores[p];
      });
    }

    function updatePlayerInputs() {
      const container = document.getElementById("playerInputs");
      container.innerHTML = "";
      players.forEach((p, i) => {
        const select = document.createElement("select");
        select.id = "player" + i;
        players.forEach(pl => {
          const option = document.createElement("option");
          option.value = pl;
          option.textContent = pl;
          select.appendChild(option);
        });
        const label = document.createElement("label");
        label.textContent = `Position ${i + 1}: `;
        container.appendChild(label);
        container.appendChild(select);
        container.appendChild(document.createElement("br"));
      });
    }

    function submitRound() {
      const numPlayers = players.length;
      const positions = [];
      for (let i = 0; i < numPlayers; i++) {
        positions.push(document.getElementById("player" + i).value);
      }

      // Scoring rules
      if (numPlayers === 4) {
        scores[positions[0]] += 4; // President
        scores[positions[1]] += 3; // Vice President
        scores[positions[2]] += 2; // Scrotum
        scores[positions[3]] += 1; // Arsehole
      } else {
        scores[positions[0]] += 5; // President
        scores[positions[1]] += 4; // Vice President
        for (let i = 2; i < numPlayers - 2; i++) {
          scores[positions[i]] += 3; // Neutrals
        }
        scores[positions[numPlayers - 2]] += 2; // Scrotum
        scores[positions[numPlayers - 1]] += 1; // Arsehole
      }

      totalGames++;
      renderScores();
      updateHistory(positions);
    }

    function updateHistory(positions) {
      const history = document.getElementById("gameHistory");
      const li = document.createElement("li");
      li.textContent = positions.join(" â†’ ");
      history.appendChild(li);
      document.getElementById("totalGames").textContent = totalGames;
    }

    function resetScores() {
      totalGames = 0;
      document.getElementById("gameHistory").innerHTML = "";
      document.getElementById("totalGames").textContent = totalGames;
      initScores();
    }

    // Initialize
    initScores();
  </script>
</body>
</html>
